<% layout('layouts/boilerplate') -%>

<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card shadow-lg border-0 rounded-3 p-4">
            <!-- <h3 class="text-center text-primary mb-4 fw-bold">üõçÔ∏è Add New Product</h3> -->
            
            <form method="post" action="/products">
                <!-- Product Title -->
                <div class="mb-3">
                    <label for="titleInp" class="form-label fw-semibold">Product Title</label>
                    <input name="title" type="text" class="form-control p-2" id="titleInp" placeholder="Enter product name" required>
                </div>

                <!-- Price Input -->
                <div class="mb-3">
                    <label for="priceInp" class="form-label fw-semibold">Price</label>
                    <div class="input-group">
                        <span class="input-group-text">$</span>
                        <input name="price" type="number" class="form-control p-2" id="priceInp" placeholder="Enter price" required>
                    </div>
                </div>

                <!-- Image Link -->
                <div class="mb-3">
                    <label for="imageInp" class="form-label fw-semibold">Image Link</label>
                    <input name="image" type="url" class="form-control p-2" id="imageInp" placeholder="Paste image URL" required oninput="updateImagePreview()">
                </div>

                <!-- Live Image Preview -->
                <div class="mb-3 text-center">
                    <img id="imagePreview" src="" class="rounded shadow-sm" style="width: 100%; max-height: 200px; object-fit: cover; display: none;">
                </div>

                <!-- Description -->
                <div class="mb-3">
                    <label for="descInp" class="form-label fw-semibold">Description</label>
                    <textarea name="description" class="form-control p-2" id="descInp" rows="3" placeholder="Enter product details" required></textarea>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="btn btn-primary w-100 fw-semibold py-2">
                    <i class="fas fa-plus-circle"></i> Add Product
                </button>
            </form>
        </div>
    </div>
</div>

<!-- JavaScript for Image Preview -->
<script>
    function updateImagePreview() {
        const imageInput = document.getElementById("imageInp").value;
        const preview = document.getElementById("imagePreview");

        if (imageInput) {
            preview.src = imageInput;
            preview.style.display = "block";
        } else {
            preview.style.display = "none";
        }
    }
</script>
